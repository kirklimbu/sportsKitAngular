<!--begin::Signin-->
<div class="registration-content p-4 registration-form registration-signin mb-3">
    <div class="card">
        <h6 class="m-2  ">Required fields are followed by <span class="text-danger">*</span></h6>

        <!--begin::Form-->
        <form class="form" id="kt_registration_signin_form" [formGroup]="form" novalidate="novalidate">
            <!--begin::Title-->
            <div class="pb-5">
                <h1 class="font-weight-bolder text-center mt-4 text-warning welcome">
                    Sign Up
                </h1>
            </div>
            <!--end::Title-->

            <!-- begin::Alert error-->
            <ng-container *ngIf="hasError">
                <div class="mb-10 alert alert-custom alert-light-danger alert-dismissible">
                    <div class="alert-text">The registration details are incorrect</div>
                </div>
            </ng-container>

            <div class="form-group ">
                <label class="fw-bolder fs-h4 text-dark required">Username</label>
                <input class="form-control py-4 px-4 fs-5" [ngClass]="{
            'is-invalid': f['mobile'].touched && f['mobile'].invalid
          }" name="email" formControlName="mobile" autocomplete="off" placeholder="Mobile" />
                <ng-container class="h6 text-danger" [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
            validation: 'required',
            message: 'Mobile is required',
            control: form.controls['mobile']
          }"></ng-container>
            </div>
            <!--end::Form group-->

            <!--begin::Form group-->
            <div class="form-group">
                <div class="d-flex justify-content-between">
                    <label class="fs-h4 fw-bolder text-dark pt-5 required">Password</label>
                    <!-- <a
          routerLink="/auth/forgot-password"
          class="text-primary font-size-h6 font-weight-bolder text-hover-primary pt-5"
          id="kt_registration_forgot"
        >
          Forgot Password ?
        </a> -->
                </div>

                <div class="input-group">
                    <input class="form-control py-4 px-4 fs-5 requred" [type]="showPassword ? 'text' : 'password'"
                        [ngClass]="{
              'is-invalid': f['passWord'].touched && f['passWord'].invalid
            }" type="password" placeholder="" name="password" autocomplete="off" formControlName="passWord" />
                    <div class="input-group-append" (click)="onTogglePassword()">
                        <span class="input-group-text rounded-0">
                            <!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.-->
                            <!-- <span class="svg-icon svg-icon-md svg-icon-warning rounded-sm text-warning"
                                title="Show Password" *ngIf="!showPassword"
                                [inlineSVG]="'./assets/media/svg/icons/General/Lock.svg'">
                                 <svg xmlns="http://www.w3.org/2000/svg" height="16" width="14" viewBox="0 0 448 512">
                                    <path
                                        d="M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z" />
                                </svg> 
                            </span> -->
                            @if (showPassword) {

                            <span nz-icon nzType="lock" nzTheme="outline"></span>
                            }@else{
                            <span nz-icon nzType="unlock" nzTheme="outline"></span>
                            }
                            <!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.-->
                            <!-- <span class="svg-icon svg-icon-md  text-warning" title="Hide Password" *ngIf="showPassword"
                                [inlineSVG]="'./assets/media/svg/icons/General/Unlock.svg'">
                                <svg xmlns="http://www.w3.org/2000/svg" height="16" width="18" viewBox="0 0 576 512">
                                    <path
                                        d="M423.5 0C339.5 .3 272 69.5 272 153.5V224H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48h-48v-71.1c0-39.6 31.7-72.5 71.3-72.9 40-.4 72.7 32.1 72.7 72v80c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24v-80C576 68 507.5-.3 423.5 0z" />
                                </svg>
                            </span> -->
                        </span>
                    </div>
                </div>

                <div class="fv-plugins-message-container"
                    *ngIf="!f['passWord']?.valid && (f['passWord']?.dirty || f['passWord']?.touched)  ">
                    <div class="fv-help-block ml-2 text-danger" *ngIf="f['passWord'].errors?.['required']">
                        <span class=" h6"> Password is required.</span>
                    </div>
                </div>
            </div>
            <!--end::Form group-->

            <div class="form-group">
                <div class="d-flex justify-content-between">
                    <label class="fs-h4 fw-bolder text-dark pt-5 required">Confirm Password</label>

                </div>

                <div class="input-group">
                    <input class="form-control py-4 px-4 fs-5" [type]="showcPassword ? 'text' : 'password'" [ngClass]="{
                          'is-invalid': f['cPassword'].touched && f['cPassword'].invalid
                        }" type="password" placeholder="" name="password" autocomplete="off"
                        formControlName="cPassword" />
                    <div class="input-group-append" (click)="onTogglecPassword()">
                        <span class="input-group-text rounded-0">
                            <!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.-->
                            <!-- <span class="svg-icon svg-icon-md svg-icon-warning  text-warning" title="Show cPassword"
                                *ngIf="!showcPassword" [inlineSVG]="'./assets/media/svg/icons/General/Lock.svg'">
                                <svg xmlns="http://www.w3.org/2000/svg" height="16" width="14" viewBox="0 0 448 512">
                                    <path
                                        d="M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z" />
                                </svg>
                            </span> -->
                            @if(showcPassword){

                            <span nz-icon nzType="unlock" nzTheme="outline"></span>
                            }@else {
                            <span nz-icon nzType="lock" nzTheme="outline"></span>

                            }
                            <!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.-->
                            <!--    <span class="svg-icon svg-icon-md svg-icon-primary  text-warning" title="Hide cPassword"
                                *ngIf="showcPassword" [inlineSVG]="'./assets/media/svg/icons/General/Unlock.svg'">
                               <svg xmlns="http://www.w3.org/2000/svg" height="16" width="18" viewBox="0 0 576 512">
                                    <path
                                        d="M423.5 0C339.5 .3 272 69.5 272 153.5V224H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48h-48v-71.1c0-39.6 31.7-72.5 71.3-72.9 40-.4 72.7 32.1 72.7 72v80c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24v-80C576 68 507.5-.3 423.5 0z" />
                                </svg> 
                        </span>-->
                        </span>
                    </div>
                </div>

                <div class="fv-plugins-message-container"
                    *ngIf="!f['cPassword']?.valid && (f['cPassword']?.dirty || f['cPassword']?.touched)  ">
                    <div class="fv-help-block ml-2 text-danger" *ngIf="f['cPassword'].errors?.['required']">
                        <span class=" h6">Confirm Password is required.</span>
                    </div>
                </div>

                <ng-container>
                    <div class="fv-plugins-message-container">
                        <div class="fv-help-block ml-2 text-danger"
                            *ngIf="f['cPassword'].errors?.['confirmedValidator']">
                            <span class="text-danger h6">
                                Password and Confirm Password donot match.</span>
                        </div>
                    </div>
                </ng-container>
            </div>

            <!-- begin::profile -->

            <div class='line-icon py-5'><i class="far fa-id-card fa-2xl"></i></div>

            <!-- begin::name -->
            <div class="form-group py-4">
                <label class="fw-bolder fs-h4 text-dark required">Full Name</label>
                <input class="form-control py-4 px-4 fs-5" [ngClass]="{
                                    'is-invalid': f['name'].touched && f['name'].invalid
                                  }" name="full name" formControlName="name" autocomplete="off"
                    placeholder="Nicolas Tesla" />
                <div class="fv-plugins-message-container"
                    *ngIf="!f['name']?.valid && (f['name']?.dirty || f['name']?.touched)  ">
                    <div class="fv-help-block ml-2 text-danger" *ngIf="f['name'].errors?.['required']">
                        <span class="text-danger h6">Name is required.</span>
                    </div>
                </div>

            </div>
            <!-- end::name -->
            <!-- begin::email -->
            <div class="form-group py-4">
                <label class="fw-bolder fs-h4 text-dark required">Email</label>
                <input type=" email" class="form-control py-4 px-4 fs-5" [ngClass]="{
                                    'is-invalid': f['email'].touched && f['email'].invalid
                                  }" name="email" formControlName="email" autocomplete="off"
                    placeholder="tesla@gmail.com" />
                <div class="fv-plugins-message-container"
                    *ngIf="!f['email']?.valid && (f['email']?.dirty || f['email']?.touched)  ">
                    <div class="fv-help-block ml-2 text-danger" *ngIf="f['email'].errors?.['required']">
                        <span class="text-danger h6">Email is required.</span>
                    </div>
                </div>
            </div>
            <!-- end::email -->

            <!-- begin::address1 -->
            <div class="form-group py-4">
                <label class="fw-bolder fs-h4 text-dark required">Address 1</label>
                <input class="form-control py-4 px-4 fs-5" [ngClass]="{
                                    'is-invalid': f['addressOne'].touched && f['addressOne'].invalid
                                  }" name="email" formControlName="addressOne" autocomplete="off"
                    placeholder="Street name" />
                <div class="fv-plugins-message-container"
                    *ngIf="!f['addressOne']?.valid && (f['addressOne']?.dirty || f['addressOne']?.touched)  ">
                    <div class="fv-help-block ml-2 text-danger" *ngIf="f['addressOne'].errors?.['required']">
                        <span class="text-danger h6">Street name is required.</span>
                    </div>
                </div>
            </div>
            <!-- end::address1 -->

            <!-- begin::address2 -->
            <div class="form-group py-4">
                <label class="fw-bolder fs-h4 text-dark ">Address 2</label>
                <input class="form-control py-4 px-4 fs-5" name="addressTwo" formControlName="addressTwo"
                    autocomplete="off" placeholder="Apartment num." />

            </div>
            <!-- end::address2 -->

            <!-- end::profile -->


            <!--begin::Action-->
            <div class="registration-btn-container  mb-5">
                <!-- cancel -->
                <div class="">
                    <button type="button" class="btn btn-secondary btn-block fw-bolder cancel " (click)="onCancel()">
                        Cancel
                    </button>
                </div>
                <!-- registration -->
                <div class="">
                    <button type="button" class="btn btn-warning btn-block registration fw-bolder"
                        id="kt_registration_signin_submit" [disabled]="!form.valid" (click)="onSignUp()">
                        Sign Up
                        <ng-container *ngIf="isLoading$ | async">
                            <span class="spinner spinner-secondary ml-5"></span>
                        </ng-container>
                    </button>
                </div>
            </div>


        </form>
        <!--end::Form-->
    </div>
    <!--end::Signin-->
</div>
<ng-template #formError let-control="control" let-message="message" let-validation="validation">
    <ng-container *ngIf="control.hasError(validation) && (control.dirty || control.touched)">
        <div class="fv-plugins-message-container">
            <div class="fv-help-block">
                {{ message }}
            </div>
        </div>
    </ng-container>
</ng-template>